# Secrets Migration Status (greentic-messaging)

- What changed: added a deterministic secrets smoke fixture (`fixtures/packs/messaging_secrets_smoke/`) with `secret_requirements`; updated README/getting-started + provider docs to point to the `greentic-secrets` init/apply workflow; messaging-tenants now shells out to `greentic-secrets`; added component manifests with `secret_requirements` for all messaging adapters; testutil can now load credentials from a `MESSAGING_SEED_FILE` SeedDoc (warns on legacy filenames); documented pack state in `packs/messaging/README.md`; added seed example `fixtures/seeds/messaging_secrets_smoke.yaml`; documented pack generation helper.
- What broke: pack YAMLs still reference missing flow files (left untouched for PR-14); fixtures/packs do not yet include real flows/components; new component manifests under `packs/messaging/components/*/component.manifest.json` carry requirements but are not yet wired into pack builds.
- Next repos/steps: align with the updated `greentic-secrets` CLI and `secret_requirements` schema from greentic-types/pack; wire component manifests into pack generation (or regenerate .gtpack fixtures) once pack tooling is ready (see `tools/generate_packs.sh` and `docs/pack_generation.md`); migrate remaining tests/helpers off env/`SECRETS_ROOT` and onto greentic-secrets seeded stores (testutil reads `MESSAGING_SEED_FILE`, prefers `messaging/<platform>.credentials.json`, and still accepts legacy `<platform>-<team>-credentials.json`); regenerate any published docs sites after in-repo docs change.
